<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é€’å½’ç®—æ³•å¯è§†åŒ– - æ–æ³¢é‚£å¥‘æ•°åˆ—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #fff;
        }
        
        .glass-panel {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
        }
        
        .neon-accent {
            color: #00d4ff;
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
        }
        
        .node {
            fill: rgba(255, 152, 0, 0.2);
            stroke: #ff9800;
            stroke-width: 2;
            transition: all 0.3s ease;
        }
        
        .node.active {
            fill: rgba(255, 213, 79, 0.4);
            stroke: #ffd54f;
            filter: drop-shadow(0 0 8px rgba(255, 213, 79, 0.6));
        }
        
        .node.visited {
            fill: rgba(129, 199, 132, 0.3);
            stroke: #81c784;
        }
        
        .node.leaf {
            fill: rgba(244, 67, 54, 0.2);
            stroke: #f44336;
        }
        
        .link {
            stroke: rgba(255, 255, 255, 0.2);
            stroke-width: 2;
            fill: none;
            transition: all 0.3s ease;
        }
        
        .link.active {
            stroke: #ffd54f;
            stroke-width: 3;
            filter: drop-shadow(0 0 4px rgba(255, 213, 79, 0.5));
        }
        
        .slider-container input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: rgba(255, 255, 255, 0.1);
            outline: none;
        }
        
        .slider-container input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #ff9800;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(255, 152, 0, 0.5);
        }
        
        .btn-control {
            background: linear-gradient(135deg, #ff9800, #ffab40);
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            color: #1a1a2e;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-control:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(255, 152, 0, 0.4);
        }
        
        .btn-control:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .quiz-option {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .quiz-option:hover {
            background: rgba(255, 152, 0, 0.1);
            border-color: #ff9800;
        }
        
        .quiz-option.correct {
            background: rgba(129, 199, 132, 0.3);
            border-color: #81c784;
        }
        
        .quiz-option.wrong {
            background: rgba(244, 67, 54, 0.3);
            border-color: #f44336;
        }
        
        .objective-checkbox {
            accent-color: #ff9800;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .animate-pulse {
            animation: pulse 1.5s ease-in-out infinite;
        }
        
        @keyframes flow {
            0% { stroke-dashoffset: 20; }
            100% { stroke-dashoffset: 0; }
        }
        
        .flow-animation {
            stroke-dasharray: 5, 5;
            animation: flow 1s linear infinite;
        }
    </style>
</head>
<body>
    <div class="container mx-auto px-4 py-6">
        <!-- å¤´éƒ¨ -->
        <header class="text-center mb-6">
            <h1 class="text-4xl font-bold mb-2">
                <span class="neon-accent">é€’å½’ç®—æ³•</span> å¯è§†åŒ–
            </h1>
            <p class="text-gray-400">æ–æ³¢é‚£å¥‘æ•°åˆ— - Fibonacci Sequence</p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- å·¦ä¾§é¢æ¿ -->
            <div class="space-y-4">
                <!-- å­¦ä¹ ç›®æ ‡ -->
                <div class="glass-panel p-4">
                    <h3 class="text-lg font-semibold mb-3 flex items-center">
                        <span class="text-2xl mr-2">ğŸ¯</span> å­¦ä¹ ç›®æ ‡
                    </h3>
                    <div class="space-y-2 text-sm">
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" class="objective-checkbox" id="obj1">
                            <span>ç†è§£é€’å½’åŸºæœ¬æ¦‚å¿µ</span>
                        </label>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" class="objective-checkbox" id="obj2">
                            <span>æŒæ¡é€’å½’ä¸‰è¦ç´ </span>
                        </label>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" class="objective-checkbox" id="obj3">
                            <span>è§‚å¯Ÿé€’å½’è°ƒç”¨æ ‘</span>
                        </label>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" class="objective-checkbox" id="obj4">
                            <span>ç†è§£é€’å½’æ•ˆç‡é—®é¢˜</span>
                        </label>
                    </div>
                </div>

                <!-- åŸç†è®²è§£ -->
                <div class="glass-panel p-4">
                    <h3 class="text-lg font-semibold mb-3 flex items-center">
                        <span class="text-2xl mr-2">ğŸ“–</span> åŸç†è§£é‡Š
                    </h3>
                    <div class="text-sm text-gray-300 space-y-3">
                        <p><strong class="text-orange-400">ä»€ä¹ˆæ˜¯é€’å½’ï¼Ÿ</strong></p>
                        <p>é€’å½’å°±æ˜¯<strong class="neon-accent">å‡½æ•°è°ƒç”¨è‡ªèº«</strong>çš„ç¼–ç¨‹æŠ€å·§ã€‚å°±åƒä¿„ç½—æ–¯å¥—å¨ƒï¼Œæ¯ä¸ªå¨ƒå¨ƒé‡Œé¢éƒ½è—ç€æ›´å°çš„è‡ªå·±ã€‚</p>
                        
                        <div class="bg-black/20 p-3 rounded-lg mt-3">
                            <p class="text-orange-400 font-semibold mb-2">æ–æ³¢é‚£å¥‘æ•°åˆ—</p>
                            <p class="math-content">$$F(n) = F(n-1) + F(n-2)$$</p>
                            <p class="mt-2 text-xs text-gray-400">æ•°åˆ—: 0, 1, 1, 2, 3, 5, 8, 13, 21...</p>
                        </div>
                    </div>
                </div>

                <!-- æ§åˆ¶é¢æ¿ -->
                <div class="glass-panel p-4">
                    <h3 class="text-lg font-semibold mb-3 flex items-center">
                        <span class="text-2xl mr-2">ğŸ®</span> æ§åˆ¶é¢æ¿
                    </h3>
                    
                    <div class="slider-container mb-4">
                        <label class="block text-sm mb-2">è®¡ç®—é¡¹æ•° n: <span id="nValue" class="neon-accent font-bold">5</span></label>
                        <input type="range" id="nSlider" min="1" max="8" value="5">
                    </div>
                    
                    <div class="slider-container mb-4">
                        <label class="block text-sm mb-2">æ’­æ”¾é€Ÿåº¦: <span id="speedValue" class="neon-accent">1x</span></label>
                        <input type="range" id="speedSlider" min="0.5" max="2" step="0.5" value="1">
                    </div>
                    
                    <div class="grid grid-cols-2 gap-2">
                        <button class="btn-control" id="playBtn">â–¶ï¸ æ’­æ”¾</button>
                        <button class="btn-control" id="pauseBtn" disabled>â¸ï¸ æš‚åœ</button>
                        <button class="btn-control" id="stepBtn">â­ï¸ å•æ­¥</button>
                        <button class="btn-control" id="resetBtn">ğŸ”„ é‡ç½®</button>
                    </div>
                </div>

                <!-- å®æ—¶æ•°æ® -->
                <div class="glass-panel p-4">
                    <h3 class="text-lg font-semibold mb-3">ğŸ“Š å®æ—¶æ•°æ®</h3>
                    <div class="grid grid-cols-2 gap-3 text-sm">
                        <div class="bg-black/20 p-2 rounded">
                            <span class="text-gray-400">å½“å‰å€¼</span>
                            <div id="currentValue" class="text-2xl neon-accent font-bold">-</div>
                        </div>
                        <div class="bg-black/20 p-2 rounded">
                            <span class="text-gray-400">è°ƒç”¨æ¬¡æ•°</span>
                            <div id="callCount" class="text-2xl text-orange-400 font-bold">0</div>
                        </div>
                        <div class="bg-black/20 p-2 rounded">
                            <span class="text-gray-400">é€’å½’æ·±åº¦</span>
                            <div id="maxDepth" class="text-2xl text-green-400 font-bold">0</div>
                        </div>
                        <div class="bg-black/20 p-2 rounded">
                            <span class="text-gray-400">é‡å¤è®¡ç®—</span>
                            <div id="duplicateCount" class="text-2xl text-red-400 font-bold">0</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ä¸­é—´å¯è§†åŒ–åŒºåŸŸ -->
            <div class="lg:col-span-2">
                <div class="glass-panel p-4 h-full">
                    <h3 class="text-lg font-semibold mb-3 flex items-center justify-between">
                        <span><span class="text-2xl mr-2">ğŸ¬</span> é€’å½’è°ƒç”¨æ ‘</span>
                        <span id="statusText" class="text-sm text-gray-400">å‡†å¤‡å°±ç»ª</span>
                    </h3>
                    
                    <div class="relative bg-black/20 rounded-lg overflow-hidden" style="height: 500px;">
                        <svg id="treeSvg" width="100%" height="100%" viewBox="0 0 800 500">
                            <defs>
                                <marker id="arrowhead" markerWidth="10" markerHeight="7" 
                                        refX="9" refY="3.5" orient="auto">
                                    <polygon points="0 0, 10 3.5, 0 7" fill="rgba(255,213,79,0.6)" />
                                </marker>
                            </defs>
                            <g id="treeGroup"></g>
                        </svg>
                        
                        <!-- å›¾ä¾‹ -->
                        <div class="absolute bottom-4 left-4 bg-black/60 p-3 rounded-lg text-xs">
                            <div class="flex items-center mb-1">
                                <div class="w-4 h-4 rounded-full mr-2" style="background: rgba(255,152,0,0.4); border: 2px solid #ff9800;"></div>
                                <span>æœªè®¿é—®</span>
                            </div>
                            <div class="flex items-center mb-1">
                                <div class="w-4 h-4 rounded-full mr-2" style="background: rgba(255,213,79,0.4); border: 2px solid #ffd54f;"></div>
                                <span>æ­£åœ¨è®¡ç®—</span>
                            </div>
                            <div class="flex items-center mb-1">
                                <div class="w-4 h-4 rounded-full mr-2" style="background: rgba(129,199,132,0.3); border: 2px solid #81c784;"></div>
                                <span>å·²å®Œæˆ</span>
                            </div>
                            <div class="flex items-center">
                                <div class="w-4 h-4 rounded-full mr-2" style="background: rgba(244,67,54,0.2); border: 2px solid #f44336;"></div>
                                <span>ç»ˆæ­¢æ¡ä»¶</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- å°æµ‹éªŒ -->
        <div class="mt-6 glass-panel p-4">
            <h3 class="text-lg font-semibold mb-4 flex items-center">
                <span class="text-2xl mr-2">â“</span> å°æµ‹éªŒ
                <button id="toggleQuiz" class="ml-auto text-sm text-orange-400 hover:text-orange-300">å±•å¼€/æ”¶èµ·</button>
            </h3>
            <div id="quizPanel" class="space-y-4">
                <div class="quiz-question">
                    <p class="font-semibold mb-2">1. é€’å½’å¿…é¡»æœ‰ä»€ä¹ˆæ¡ä»¶æ‰èƒ½åœæ­¢ï¼Ÿ</p>
                    <div class="space-y-2">
                        <div class="quiz-option" data-question="1" data-answer="wrong">A. å¾ªç¯è®¡æ•°å™¨</div>
                        <div class="quiz-option" data-question="1" data-answer="correct">B. ç»ˆæ­¢æ¡ä»¶ (åŸºçº¿æ¡ä»¶)</div>
                        <div class="quiz-option" data-question="1" data-answer="wrong">C. å…¨å±€å˜é‡</div>
                        <div class="quiz-option" data-question="1" data-answer="wrong">D. éšæœºæ•°</div>
                    </div>
                </div>
                
                <div class="quiz-question">
                    <p class="font-semibold mb-2">2. è®¡ç®— F(5) æ—¶ï¼ŒF(2) ä¼šè¢«è®¡ç®—å‡ æ¬¡ï¼Ÿ</p>
                    <div class="space-y-2">
                        <div class="quiz-option" data-question="2" data-answer="wrong">A. 1æ¬¡</div>
                        <div class="quiz-option" data-question="2" data-answer="wrong">B. 2æ¬¡</div>
                        <div class="quiz-option" data-question="2" data-answer="correct">C. 3æ¬¡</div>
                        <div class="quiz-option" data-question="2" data-answer="wrong">D. 4æ¬¡</div>
                    </div>
                </div>

                <div class="bg-orange-500/10 border border-orange-500/30 p-3 rounded-lg mt-4">
                    <p class="font-semibold text-orange-400">ğŸ’¡ æ€è€ƒé¢˜</p>
                    <p class="text-sm mt-1">å¦‚ä½•é¿å…é€’å½’ä¸­çš„é‡å¤è®¡ç®—ï¼Ÿï¼ˆæç¤ºï¼šè®°å¿†åŒ–/ç¼“å­˜ï¼‰</p>
                </div>
            </div>
        </div>

        <!-- ä»£ç ç¤ºä¾‹ -->
        <div class="mt-6 glass-panel p-4">
            <h3 class="text-lg font-semibold mb-3">ğŸ’» ä»£ç ç¤ºä¾‹</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <p class="text-sm text-orange-400 mb-2">åŸºç¡€é€’å½’ç‰ˆæœ¬</p>
                    <pre class="bg-black/30 p-3 rounded-lg text-xs overflow-x-auto"><code>def fibonacci(n):
    if n <= 1:
        return n
    return fibonacci(n-1) + fibonacci(n-2)</code></pre>
                </div>
                <div>
                    <p class="text-sm text-green-400 mb-2">è®°å¿†åŒ–ä¼˜åŒ–ç‰ˆæœ¬</p>
                    <pre class="bg-black/30 p-3 rounded-lg text-xs overflow-x-auto"><code>memo = {}
def fibonacci_memo(n):
    if n in memo:
        return memo[n]
    if n <= 1:
        return n
    memo[n] = fibonacci_memo(n-1) + fibonacci_memo(n-2)
    return memo[n]</code></pre>
                </div>
            </div>
        </div>

        <!-- é¡µè„š -->
        <footer class="mt-6 text-center text-sm text-gray-500">
            <p>ç”± <span class="neon-accent">AetherViz Master</span> + <span class="text-orange-400">Training-Design-Agent</span> ç”Ÿæˆ ğŸ¦</p>
        </footer>
    </div>

    <script>
        // åˆå§‹åŒ– KaTeX
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: '$$', right: '$$', display: true},
                    {left: '$', right: '$', display: false}
                ]
            });
        });

        // å…¨å±€çŠ¶æ€
        let n = 5;
        let speed = 1;
        let isPlaying = false;
        let animationId = null;
        let stepIndex = 0;
        let treeData = [];
        let callCount = 0;
        let maxDepth = 0;
        let duplicateCount = 0;
        let visitedNodes = new Set();
        let nodeCallCount = {};

        // DOM å…ƒç´ 
        const nSlider = document.getElementById('nSlider');
        const nValue = document.getElementById('nValue');
        const speedSlider = document.getElementById('speedSlider');
        const speedValue = document.getElementById('speedValue');
        const playBtn = document.getElementById('playBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const stepBtn = document.getElementById('stepBtn');
        const resetBtn = document.getElementById('resetBtn');
        const treeSvg = document.getElementById('treeGroup');
        const statusText = document.getElementById('statusText');
        const currentValueEl = document.getElementById('currentValue');
        const callCountEl = document.getElementById('callCount');
        const maxDepthEl = document.getElementById('maxDepth');
        const duplicateCountEl = document.getElementById('duplicateCount');

        // æ»‘å—äº‹ä»¶
        nSlider.addEventListener('input', (e) => {
            n = parseInt(e.target.value);
            nValue.textContent = n;
            reset();
        });

        speedSlider.addEventListener('input', (e) => {
            speed = parseFloat(e.target.value);
            speedValue.textContent = speed + 'x';
        });

        // æ§åˆ¶æŒ‰é’®
        playBtn.addEventListener('click', play);
        pauseBtn.addEventListener('click', pause);
        stepBtn.addEventListener('click', step);
        resetBtn.addEventListener('click', reset);

        // ç”Ÿæˆæ ‘æ•°æ®
        function generateTreeData(n, depth = 0, x = 400, y = 40, parentX = null) {
            const node = {
                id: `node-${n}-${depth}-${x}`,
                n: n,
                depth: depth,
                x: x,
                y: y,
                value: null,
                children: [],
                parentX: parentX,
                status: 'pending'
            };

            if (n <= 1) {
                node.value = n;
                node.status = 'leaf';
                return node;
            }

            const offset = 200 / (depth + 1);
            const leftChild = generateTreeData(n - 1, depth + 1, x - offset, y + 70, x);
            const rightChild = generateTreeData(n - 2, depth + 1, x + offset, y + 70, x);
            
            node.children = [leftChild, rightChild];
            return node;
        }

        // ç»˜åˆ¶æ ‘
        function drawTree(node) {
            let svg = '';
            
            // ç»˜åˆ¶è¿æ¥çº¿
            if (node.children.length > 0) {
                node.children.forEach(child => {
                    const isActive = child.status === 'active' || node.status === 'active';
                    const linkClass = isActive ? 'link active' : 'link';
                    svg += `<line class="${linkClass}" x1="${node.x}" y1="${node.y + 20}" x2="${child.x}" y2="${child.y - 20}" id="link-${node.id}-${child.id}"/>`;
                    svg += drawTree(child);
                });
            }

            // ç»˜åˆ¶èŠ‚ç‚¹
            const nodeClass = node.status === 'active' ? 'node active' : 
                             node.status === 'visited' ? 'node visited' :
                             node.status === 'leaf' ? 'node leaf' : 'node';
            
            svg += `
                <g id="${node.id}" class="${nodeClass}">
                    <circle cx="${node.x}" cy="${node.y}" r="20"/>
                    <text x="${node.x}" y="${node.y + 5}" text-anchor="middle" fill="#fff" font-size="14" font-weight="bold">F(${node.n})</text>
                    ${node.value !== null ? `<text x="${node.x}" y="${node.y + 35}" text-anchor="middle" fill="#ffd54f" font-size="12">= ${node.value}</text>` : ''}
                    ${nodeCallCount[node.id] > 1 ? `<text x="${node.x + 25}" y="${node.y - 15}" fill="#f44336" font-size="10">Ã—${nodeCallCount[node.id]}</text>` : ''}
                </g>
            `;
            
            return svg;
        }

        // æ”¶é›†æ‰€æœ‰èŠ‚ç‚¹
        function collectNodes(node, nodes = []) {
            nodes.push(node);
            node.children.forEach(child => collectNodes(child, nodes));
            return nodes;
        }

        // åˆå§‹åŒ–
        function init() {
            treeData = generateTreeData(n);
            treeSvg.innerHTML = drawTree(treeData);
            stepIndex = 0;
            callCount = 0;
            maxDepth = 0;
            duplicateCount = 0;
            visitedNodes.clear();
            nodeCallCount = {};
            updateStats();
            statusText.textContent = 'å‡†å¤‡å°±ç»ª';
            currentValueEl.textContent = '-';
        }

        // æ›´æ–°ç»Ÿè®¡
        function updateStats() {
            callCountEl.textContent = callCount;
            maxDepthEl.textContent = maxDepth;
            duplicateCountEl.textContent = duplicateCount;
        }

        // åŠ¨ç”»æ­¥éª¤
        async function* animationSteps(node) {
            // æ¿€æ´»å½“å‰èŠ‚ç‚¹
            node.status = 'active';
            callCount++;
            nodeCallCount[node.id] = (nodeCallCount[node.id] || 0) + 1;
            if (nodeCallCount[node.id] > 1) duplicateCount++;
            maxDepth = Math.max(maxDepth, node.depth);
            
            updateStats();
            treeSvg.innerHTML = drawTree(treeData);
            statusText.textContent = `è®¡ç®— F(${node.n})...`;
            currentValueEl.textContent = `F(${node.n})`;
            
            await delay(1000 / speed);
            
            if (node.n <= 1) {
                node.status = 'visited';
                treeSvg.innerHTML = drawTree(treeData);
                statusText.textContent = `F(${node.n}) = ${node.value} (ç»ˆæ­¢æ¡ä»¶)`;
                currentValueEl.textContent = node.value;
                await delay(500 / speed);
                yield { node, completed: true };
                return;
            }
            
            // é€’å½’è®¡ç®—å·¦å­æ ‘
            yield* animationSteps(node.children[0]);
            
            // é€’å½’è®¡ç®—å³å­æ ‘
            yield* animationSteps(node.children[1]);
            
            // è®¡ç®—å½“å‰å€¼
            node.value = node.children[0].value + node.children[1].value;
            node.status = 'visited';
            
            updateStats();
            treeSvg.innerHTML = drawTree(treeData);
            statusText.textContent = `F(${node.n}) = ${node.value}`;
            currentValueEl.textContent = node.value;
            
            await delay(800 / speed);
            yield { node, completed: true };
        }

        // å»¶è¿Ÿå‡½æ•°
        function delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // æ’­æ”¾
        let stepGenerator = null;
        
        async function play() {
            if (isPlaying) return;
            isPlaying = true;
            playBtn.disabled = true;
            pauseBtn.disabled = false;
            stepBtn.disabled = true;
            
            if (!stepGenerator) {
                stepGenerator = animationSteps(treeData);
            }
            
            while (isPlaying) {
                const result = await stepGenerator.next();
                if (result.done) {
                    pause();
                    statusText.textContent = 'è®¡ç®—å®Œæˆï¼';
                    break;
                }
            }
        }

        // æš‚åœ
        function pause() {
            isPlaying = false;
            playBtn.disabled = false;
            pauseBtn.disabled = true;
            stepBtn.disabled = false;
        }

        // å•æ­¥
        async function step() {
            if (!stepGenerator) {
                stepGenerator = animationSteps(treeData);
            }
            const result = await stepGenerator.next();
            if (result.done) {
                statusText.textContent = 'è®¡ç®—å®Œæˆï¼';
            }
        }

        // é‡ç½®
        function reset() {
            pause();
            stepGenerator = null;
            init();
        }

        // æµ‹éªŒåŠŸèƒ½
        document.querySelectorAll('.quiz-option').forEach(option => {
            option.addEventListener('click', function() {
                const question = this.dataset.question;
                const answer = this.dataset.answer;
                
                // æ¸…é™¤åŒç»„å…¶ä»–é€‰é¡¹
                document.querySelectorAll(`[data-question="${question}"]`).forEach(opt => {
                    opt.classList.remove('correct', 'wrong');
                });
                
                // æ ‡è®°å½“å‰é€‰é¡¹
                if (answer === 'correct') {
                    this.classList.add('correct');
                } else {
                    this.classList.add('wrong');
                    // æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆ
                    document.querySelector(`[data-question="${question}"][data-answer="correct"]`).classList.add('correct');
                }
            });
        });

        // æŠ˜å æµ‹éªŒ
        document.getElementById('toggleQuiz').addEventListener('click', function() {
            const panel = document.getElementById('quizPanel');
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
        });

        // åˆå§‹åŒ–
        init();
    </script>
</body>
</html>